# 5.2 Oinarrizko Ibilbideak eta Nabigazioa

## Oinarrizko Ibilbideak

Vue Router-en ibilbide oinarrizko bat objektu batekin definitzen da eta honako propietateak izan ditzake:

```javascript
const routes = [
  {
    path: '/',              // URLa ibilbidea
    name: 'home',           // Ibilbidearen izena (aukerakoa)
    component: HomeView,    // Bistaratuko den osagaia
    meta: {                // Metadatu aukerakoak
      requiresAuth: true
    },
    props: true           // Ibilbideko parametroak props moduan pasatu
  },
  // Beste ibilbide batzuk...
];
```

## Nabigazioa `<router-link>` erabiliz

`<router-link>` osagaia Vue Router-en erabiltzen den modu deklaratiboa da nabigatzeko. HTML-ko `<a>` etiketa baten antzekoa da, baina bezeroaren aldeko bideratzean erabiltzeko ezaugarri bereziekin.

### Ezaugarri nagusiak:

1. **Nabigazio oinarrizkoa**:
   ```vue
   <router-link to="/about">Honi buruz</router-link>
   ```
   - `to`: Helburuko ibilbidea zehazten du. Kate bat izan daiteke ibilbidearekin edo aukera gehiagoko objektu bat.

2. **Ibilbide-izenaren erabilera**:
   ```vue
   <router-link :to="{ name: 'user', params: { id: 123 }}">
     Ikusi 123 erabiltzailearen profila
   </router-link>
   ```
   - `name`: Bideratzailean definitutako ibilbidearen izena.
   - `params`: Ibilbideko parametroak.

3. **Pertsonalizatutako CSS klaseak**:
   ```vue
   <router-link 
     to="/contact"
     class="nav-link"
     active-class="active"
     exact-active-class="exact-active"
   >
     Kontaktua
   </router-link>
   ```
   - `active-class`: Ibilbidea partzialki bat datorrenean aplikatzen den CSS klasea.
   - `exact-active-class`: Ibilbidea zehazki bat datorrenean aplikatzen den CSS klasea.
   - `class`: Beti aplikatzen diren CSS klase estatikoa.

4. **Erabilgarriak diren beste propietate batzuk**:
   - `replace`: Uneko sarrera ordezkatzen du historialean, berri bat gehitu beharrean.
   - `tag`: Sortuko den HTML etiketa zehazten du (lehenetsia `<a>` da).
   - `custom`: Esteka erabat pertsonalizatzea ahalbidetzen du.

### `<a>` tradizionalaren aldean dituen abantailak:
- Klikaren gertaera automatikoki maneiatzen du orria berriz kargatzea ekiditeko.
- Egoera aktiboko klaseak automatikoki aplikatzen ditu.
- HTML5 histori moduarekin eta hash moduarekin funtzionatzen du.
- Nabigazio programatikoa ahalbidetzen du `router.push()` edo `router.replace()` bidez.

## Nabigazio Programatikoa

`<router-link>` erabili beharrean, kode bidez ere nabiga dezakezu Vue Router-eko `router` objektua erabiliz. Hau oso erabilgarria da erabiltzailearen ekintzen ondoren edo baldintza logikoen arabera nabigatu behar duzunean.

### Oinarrizko erabilera Composition API-rekin

```javascript
// <script setup> duten osagai batean
import { useRouter } from 'vue-router';

// Router instantzia lortu
const router = useRouter();

// Ibilbide jakin batera nabigatu
const goToAbout = () => {
  // Katen bidezko ibilbidea erabiliz
  router.push('/about');
  
  // Edo izena eta parametroak dituen objektu bat erabiliz
  // router.push({ 
  //   name: 'user', 
  //   params: { id: 123 },
  //   query: { section: 'profile' } // Aukerako kontsulta-parametroak
  // });
};

// Atzera nabigatu historian
const goBack = () => {
  // Orri bat atzera joan
  router.go(-1);
  
  // Aurrera joateko: router.go(1)
};

// Uneko sarrera ordeztu historialean
const replaceRoute = () => {
  router.replace('/dashboard'); // Ez du sarrera berririk gehitzen historian
};

// Aukera gehigarriekin nabigatu
const navigateWithOptions = () => {
  router.push({
    path: '/profile',
    query: { tab: 'settings' }  // URL-era ?tab=settings gehitzen du
  });
};
```

## Parametroekin Ibilbideak

### Ibilbideak parametroekin definitzea

```javascript
const routes = [
  {
    path: '/user/:id',
    name: 'user',
    component: UserView,
    props: true // Parametroak props gisa pasatu osagaira
  },
  {
    path: '/user/:username/post/:postId',
    name: 'post',
    component: PostView
  }
];
```

### Parametroetara Sarbidea

```vue
<template>
  <div>
    <h1>{{ username }} erabiltzaileren profila</h1>
    <p>Erabiltzailearen IDa (ibilbidetik): {{ userId }}</p>
  </div>
  </template>

<script setup>
import { computed } from 'vue';
import { useRoute } from 'vue-router';

// props: true erabiltzen baduzu ibilbidean
const props = defineProps({
  id: {
    type: String,
    required: true
  }
});

const route = useRoute();

// IDa bai props-etatik bai ibilbidearen parametroetatik lor dezakegu
const userId = computed(() => route.params.id ?? props.id);
const username = computed(() => route.params.username);
</script>
```

## Ibilbideak query parametroekin (kontsulta-parametroak)

*Query parametroak* edo kontsulta-parametroak `gako=balioa` bikoteak dira, URLa-ren amaieran `?` ikurraren ondoren gehitzen direnak. Informazio **aukerazkoa** pasatzeko erabiltzen dira, eta ez dute `path`-aren parte finkoa osatzen.

Adibidez:

- `https://midominio.com/products?category=books&order=desc`

Kasu honetan, oinarrizko ibilbidea `/products` da eta query edo kontsulta honakoa: `?category=books&order=desc`.

### Zertarako erabiltzen dira?

- **Iragazkiak eta ordenazioak** (adib.: `?page=2&pageSize=20`, `?order=asc`).
- **Ikuspegi-egoerak** (adib.: `?tab=settings`, `?view=grid`).
- **Bilaketak** (adib.: `?q=vue%20router`).
- Path-aren parte finko gisa zentzurik ez duen edozein datu aukerazko.

### Query parametroen abantailak

- **Iragazkia aplikatuta duen esteka partekatzeko aukera**: URLak iragazkiak jasotzen ditu (adibidez, `?category=books&page=2`), eta esteka kopiatzen baduzu, beste erabiltzaileek ikuspegi berbera ikusiko dute.

- **Iragazkia mantentzen da orria berritzean**: egoera URLan bertan dagoenez, F5 sakatzean edo berriro kargatzean, Vue Routerrek query parametroetatik berreraiki dezake iragazkia.

- **Atzera/aurrera nabigatu daiteke iragazkia galdu gabe**: iragazkia aldatzen duzun bakoitzean URL berri bat sortzen da historialean; atzera edo aurrera eginez aurreko iragazki-egoeretara itzul zaitezke.

- **SEOrako lagungarria izan daiteke (orria indexagarria bada)**: query konbinazio bakoitza URL desberdin bat izan daiteke, bilatzaileek indexatu dezaketena, betiere edukia erabilgarria eta esanguratsua bada.

### Query parametroak onartzen dituen ibilbide bat definitzea

Ez da ezer berezirik definitu behar: *edozein* ibilbidek jaso ditzake query parametroak.

```javascript
const routes = [
  {
    path: '/products',
    name: 'products',
    component: ProductsView
  }
];
```

Ibilbide hauek guztiak baliozkoak dira: `/products`, `/products?page=2` edo `/products?page=2&category=books`.

### Query parametroetara sarbidea osagaian

```vue
<template>
  <div>
    <h1>Produktu zerrenda</h1>
    <p>Uneko orria: {{ currentPage }}</p>
    <p>Kategoria: {{ currentCategory ?? 'guztiak' }}</p>
  </div>
</template>

<script setup>
import { computed } from 'vue';
import { useRoute } from 'vue-router';

const route = useRoute();

// Query parametroen balioak BETI string edo string-array moduan datoz
const currentPage = computed(() => Number(route.query.page ?? 1));
const currentCategory = computed(() => route.query.category ?? null);
</script>
```

### Nabigazioa `<router-link>` erabiliz, query parametroekin

```vue
<template>
  <nav>
    <!-- Querya kate gisa pasatuz -->
    <router-link to="/products?page=1">1. orria</router-link>
    <router-link to="/products?page=2">2. orria</router-link>

    <!-- Objektua erabiliz, ibilbide-izena eta query parametroak konbinatuz -->
    <router-link :to="{ name: 'products', query: { page: 3, category: 'books' } }">
      Liburuak, 3. orria
    </router-link>
  </nav>
</template>
```

### Nabigazio programatikoa query parametroekin

```javascript
import { useRouter } from 'vue-router';

const router = useRouter();

const goToFilteredProducts = () => {
  router.push({
    name: 'products',
    query: {
      page: 1,
      category: 'electronics',
      order: 'desc'
    }
  });
};
```

### Params eta queryak konbinatzea

```javascript
const routes = [
  {
    path: '/user/:id',
    name: 'user',
    component: UserView
  }
];

// Nabigazio adibidea
router.push({
  name: 'user',
  params: { id: 123 },
  query: { section: 'profile', tab: 'activity' }
});

// Emaitza: /user/123?section=profile&tab=activity
```

## Habiaratutako Ibilbideak

Habiaratutako ibilbideek osagaien hierarkiak sortzea ahalbidetzen dute:

```javascript
const routes = [
  {
    path: '/settings',
    component: SettingsLayout,
    children: [
      {
        path: 'profile',
        component: UserProfile
      },
      {
        path: 'account',
        component: UserAccount
      },
      {
        path: 'privacy',
        component: PrivacySettings
      },
      // Bide hutsa, /settings-ekin bat datorrena
      { path: '', redirect: 'profile' }
    ]
  }
];
```

`SettingsLayout.vue` osagaian:

```vue
<template>
  <div class="settings-layout">
    <nav>
      <router-link to="/settings/profile">Profila</router-link>
      <router-link to="/settings/account">Kontua</router-link>
      <router-link to="/settings/privacy">Pribatutasuna</router-link>
    </nav>
    <div class="settings-content">
      <router-view />
    </div>
  </div>
  </template>
```

## Hurrengo urratsa

Oinarrizko ibilbideak ezagututa, ikasi [nabigazio aurreratua](./5.3-nabigazio-aurreratua.md).
